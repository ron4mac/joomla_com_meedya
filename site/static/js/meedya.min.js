'use strict';(function(c,x){let m,d,r,t,f=0,n,u,h,p;const g=a=>document.getElementById(a),v={vopts:{video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}" playsinline ><source src="{{src}}" type="{{format}}" />Sorry, your browser does not support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',autoStart:!0}},sopts:{loop:!1,slideShow:{speed:5E3}},ivbuts:{buttons:["zoom","slideShow","fullScreen","download",
"close"]},ssbuts:{buttons:["fullScreen","close"],slideShow:{autoStart:!0}},showSlide:(a,b)=>{c._pd(a);a=JSON.parse(JSON.stringify(c.items));c.FB4?Fancybox.show(a,{startIndex:b}):jQuery.fancybox.open(a,Object.assign({},this.sopts,this.vopts,this.ivbuts),b)},slideShow:a=>{c._pd(a);a=JSON.parse(JSON.stringify(c.items));c.FB4?Fancybox.show(a):jQuery.fancybox.open(a,Object.assign({},this.sopts,this.vopts,this.ssbuts))}},y={showSlide:(a,b)=>{c._pd(a);jQuery("#sstage").appendTo("body").show();ssCtl.init(c.items,
b)}},k=c._oM,q=c._cM,l=c._P,z=(a,b,e)=>{f=b;t=e;x.isAdmin&&a.metaKey?k(d):l("rateChk",{iid:b},w=>{w?alert(w):k(d)})},A=a=>{f=a;p.innerHTML="";l("getComments",{[m]:1,iid:a},b=>{p.innerHTML=b;k(u)})},B=a=>{(0!==a.detail||confirm("Clear rating for this item?"))&&l("rateItem",{[m]:1,iid:f,val:a.detail},b=>{t.firstElementChild.firstElementChild.style.width=b+"%";r.enable()},!1,()=>q(d))};c.initIV=(a=!1)=>{c.viewer=a?y:v};c.performSearch=a=>{if(""===a.sterm.value.trim())return alert(c.L.no_sterm),!1;a.submit();
return!1};c.thmClick=a=>{var b=a.target;let e;switch(b.className){case "imgthm":a.stopPropagation();v.showSlide(a,+b.parentElement.parentElement.parentElement.dataset.ix);break;case "strating":b=b.parentElement;case "strback":b=b.parentElement;case "strate":a.stopPropagation();if(!d)break;e=+b.parentElement.parentElement.parentElement.parentElement.dataset.iid;z(a,e,b);break;case "far fa-comments":case "icon-comments-2":b=b.parentElement;case "mycmnts":case "mycmnts hasem":a.stopPropagation(),f=a=
e=+b.parentElement.parentElement.parentElement.parentElement.dataset.iid,n=b,b.classList.contains("hasem")?A(a):(g("cmnt-text").value="",k(h))}};c.submitComment=a=>{a.disabled=!0;let b=new FormData(newcmnt);b.append("iid",f);l(null,b,e=>{q(h);a.disabled=!1;n.classList.add("hasem");n.innerHTML=e})};c._ae(document,"DOMContentLoaded",()=>{m=Joomla.getOptions("csrf.token","");if(d=g("rating-modal")){c._ae(d,"hidden.bs.modal",b=>{q(d)});var a=g("unrating");r=new SimpleStarRating(a);c._ae(a,"rate",B)}(u=
g("comments-modal"))&&(p=document.querySelector(".modal-body .comments"));(h=g("comment-modal"))&&c._ae(h,"shown.bs.modal",b=>{c._id("cmnt-text").focus()})})})(window.Meedya=window.Meedya||{},Joomla.getOptions("Meedya"));