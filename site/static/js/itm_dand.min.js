'use strict';Meedya.Arrange=function(m){let d=null,e=!1,f=!1,g=null,k="",h,l=a=>{if(a.target.parentElement.parentElement==d)return!1;a=a.dataTransfer.types;for(let b=0;b<a.length;++b)if("meeid"===a[b])return!0;return!1},n=a=>{d=a.target.parentElement.parentElement;setTimeout(()=>{d.style.opacity="0.2"},0);a.dataTransfer.effectAllowed="move";a.dataTransfer.dropEffect="move";a.dataTransfer.setData("meeid",d.dataset.id);a.dataTransfer.setData("imgsrc",a.target.src)},p=a=>{a.clientY&&(50>a.clientY?e||
(e=!0,g=setInterval(()=>window.scrollBy(0,-20),20)):e&&(e=!1,clearInterval(g)),a.clientY>window.innerHeight-50?f||(f=!0,g=setInterval(()=>window.scrollBy(0,20),20)):f&&(f=!1,clearInterval(g)))},q=a=>{if(1==a.targetTouches.length){let b=a.targetTouches[0];a.target.style.left=b.pageX+"px";a.target.style.top=b.pageY+"px"}},r=a=>{d.style.opacity=null;[].forEach.call(h,b=>b.classList.remove("over"));e=f=!1;clearInterval(g)},t=a=>{Meedya._pd(a);a=a.target.parentElement.parentElement;if(d!=a){let b=Meedya._id(k),
c=b.removeChild(d);b.insertBefore(c,a);m.dirtyThumbs(!0)}return!1},u=a=>{a.dataTransfer.dropEffect="move";if(l(a))return Meedya._pd(a),a.target.classList.add("over"),!1},v=a=>{a.dataTransfer.dropEffect="move";if(l(a))return Meedya._pd(a),a.dataTransfer.dropEffect="move",!1},w=a=>{a.target.classList.remove("over")};return{init:(a,b)=>{k=a;h=document.querySelectorAll("#"+a+" img");[].forEach.call(h,c=>{Meedya._ae(c,"drag",p);Meedya._ae(c,"dragstart",n);Meedya._ae(c,"dragenter",u);Meedya._ae(c,"dragover",
v);Meedya._ae(c,"dragleave",w);Meedya._ae(c,"drop",t);Meedya._ae(c,"dragend",r);Meedya._ae(c,"touchmove",q)})},iord:()=>{h=document.querySelectorAll("#"+k+" .item");let a=[];[].forEach.call(h,b=>{(b=b.dataset.id)&&a.push(b)});return a.join("|")}}}(Meedya);