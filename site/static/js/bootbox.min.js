(function(e,A){function u(a){var b=Joomla.JText._(a);return b?b:a}function r(a,b,c){a.stopPropagation();a.preventDefault();e.isFunction(c)&&!1===c.call(b,a)||b.modal("hide")}function B(a){if(Object.keys)return Object.keys(a).length;var b,c=0;for(b in a)c++;return c}function m(a,b){var c=0;e.each(a,function(d,f){b(d,f,c++)})}function C(a){if("object"!==typeof a)throw Error("Please supply an object of options");if(!a.message)throw Error("Please specify a message");a=e.extend({},v,a);a.buttons||(a.buttons=
{});var b=a.buttons;var c=B(b);m(b,function(d,f,h){h=h===c-1;e.isFunction(f)&&(f=b[d]={callback:f});if("object"!==e.type(f))throw Error("button with key "+d+" must be an object");f.label=f.label?u(f.label):d;f.className||(f.className=2>=c&&h?"btn-primary btn-sm":"btn-default btn-sm")});return a}function w(a,b,c){var d=e.extend,f=b.length,h={};if(1>f||2<f)throw Error("Invalid argument length");2===f||"string"===typeof b[0]?(h[c[0]]=b[0],h[c[1]]=b[1]):h=b[0];return d.call(e,!0,{},a,h)}function x(a,
b,c,d){a={className:"bootbox-"+a,buttons:y.apply(null,b),size:40};return z(w(a,d,c),b)}function y(){for(var a={},b=0,c=arguments.length;b<c;b++){var d=arguments[b],f=d.toLowerCase();d=d.toUpperCase();a[f]={label:u(d)}}return a}function z(a,b){var c={};m(b,function(d,f){c[f]=!0});m(a.buttons,function(d){if(void 0===c[d])throw Error("button key "+d+" is not allowed (options are "+b.join("\n")+")");});return a}var t={text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",
textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",
time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"},v={backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},q={alert:function(){var a=x("alert",["ok"],["message","callback"],arguments);if(a.callback&&
!e.isFunction(a.callback))throw Error("alert requires callback property to be a function when provided");a.buttons.ok.callback=a.onEscape=function(){return e.isFunction(a.callback)?a.callback.call(this):!0};return q.dialog(a)},confirm:function(){var a=x("confirm",["cancel","confirm"],["message","callback"],arguments);if(!e.isFunction(a.callback))throw Error("confirm requires a callback");a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,!1)};a.buttons.confirm.callback=function(){return a.callback.call(this,
!0)};return q.dialog(a)},prompt:function(){var a=e("<form class='bootbox-form'></form>");var b={className:"bootbox-prompt",buttons:y("cancel","confirm"),value:"",inputType:"text"};var c=z(w(b,arguments,["title","callback"]),["cancel","confirm"]);b=void 0===c.show?!0:c.show;c.message=a;c.buttons.cancel.callback=c.onEscape=function(){return c.callback.call(this,null)};c.buttons.confirm.callback=function(){var l="checkbox"===c.inputType?d.find("input:checked").map(function(){return e(this).val()}).get():
d.val();return c.callback.call(this,l)};c.show=!1;if(!c.title)throw Error("prompt requires a title");if(!e.isFunction(c.callback))throw Error("prompt requires a callback");if(!t[c.inputType])throw Error("invalid prompt type");var d=e(t[c.inputType]);switch(c.inputType){case "text":case "textarea":case "email":case "date":case "time":case "number":case "password":d.val(c.value);break;case "select":var f={};var h=c.inputOptions||[];if(!e.isArray(h))throw Error("Please pass an array of input options");
if(!h.length)throw Error("prompt with select requires options");m(h,function(l,k){var n=d;if(void 0===k.value||void 0===k.text)throw Error("each option needs a `value` and a `text` property");k.group&&(f[k.group]||(f[k.group]=e("<optgroup/>").attr("label",k.group)),n=f[k.group]);n.append("<option value='"+k.value+"'>"+k.text+"</option>")});m(f,function(l,k){d.append(k)});d.val(c.value);break;case "checkbox":var p=e.isArray(c.value)?c.value:[c.value];h=c.inputOptions||[];if(!h.length)throw Error("prompt with checkbox requires options");
if(!h[0].value||!h[0].text)throw Error("each option needs a `value` and a `text` property");d=e("<div/>");m(h,function(l,k){var n=e(t[c.inputType]);n.find("input").attr("value",k.value);n.find("label").append(k.text);m(p,function(E,D){D===k.value&&n.find("input").prop("checked",!0)});d.append(n)})}c.placeholder&&d.attr("placeholder",c.placeholder);c.pattern&&d.attr("pattern",c.pattern);c.maxlength&&d.attr("maxlength",c.maxlength);a.append(d);a.on("submit",function(l){l.preventDefault();l.stopPropagation();
g.find(".btn-primary").trigger("click")});var g=q.dialog(c);g.off("shown.bs.modal");g.on("shown.bs.modal",function(){d.trigger("focus")});!0===b&&g.modal("show");return g},dialog:function(a){a=C(a);var b=e("<div class='bootbox modal' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>"),c=b.find(".modal-dialog"),d=b.find(".modal-body"),f=a.buttons,h="",p={onEscape:a.onEscape};
if(void 0===e.fn.modal)throw Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");m(f,function(g,l){h+="<button data-bb-handler='"+g+"' type='button' class='btn "+l.className+"'>"+l.label+"</button>";p[g]=l.callback});d.find(".bootbox-body").html(a.message);!0===a.animate&&b.addClass("fade");a.className&&b.addClass(a.className);a.size&&b.addClass("jviewport-width"+a.size);"large"===a.size?
c.addClass("modal-lg"):"small"===a.size&&c.addClass("modal-sm");a.title&&d.before("<div class='modal-header'><h4 class='modal-title'></h4></div>");a.closeButton&&(c=e("<button type='button' class='bootbox-close-button close' aria-hidden='true'>x</i></button>"),a.title?b.find(".modal-header").prepend(c):c.css("margin-top","-2px").prependTo(d));a.title&&b.find(".modal-title").html(a.title);h.length&&(d.after("<div class='modal-footer'></div>"),b.find(".modal-footer").html(h));b.one("hide.bs.modal",
function(){b.off("escape.close.bb");b.off("click")});b.one("hidden.bs.modal",function(g){g.target===this&&b.remove()});b.one("shown.bs.modal",function(){b.find(".btn-primary:first").trigger("focus")});if("static"!==a.backdrop)b.on("click.dismiss.bs.modal",function(g){b.children(".modal-backdrop").length&&(g.currentTarget=b.children(".modal-backdrop").get(0));g.target===g.currentTarget&&b.trigger("escape.close.bb")});b.on("escape.close.bb",function(g){p.onEscape&&r(g,b,p.onEscape)});b.on("click",".modal-footer button",
function(g){var l=e(this).data("bb-handler");r(g,b,p[l])});b.on("click",".bootbox-close-button",function(g){r(g,b,p.onEscape)});b.on("keyup",function(g){27===g.which&&b.trigger("escape.close.bb")});e(a.container).append(b);b.modal({backdrop:a.backdrop?"static":!1,keyboard:!1,show:!1});a.show&&b.modal("show");return b},setDefaults:function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0];e.extend(v,a)},hideAll:function(){e(".bootbox").modal("hide")},init:function(a){return init(a||
e)}};A.bootbox=q})(jQuery,window);