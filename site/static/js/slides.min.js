(function(){var d={vendorID:"w3",browserPrefix:"",reqFull:"requestFullScreen",canFull:"cancelFullScreen"};"Microsoft Internet Explorer"==navigator.appName?(d.vendorID="ie",d.browserPrefix="ms"):-1<navigator.userAgent.indexOf("WebKit")?(d.vendorID="wk",d.browserPrefix="webkit"):-1<navigator.userAgent.indexOf("Gecko")?(d.vendorID="ff",d.browserPrefix="moz"):-1<navigator.userAgent.indexOf("Opera")?(d.vendorID="op",d.browserPrefix="o"):-1<navigator.userAgent.indexOf("KHTML")&&(d.vendorID="kd",d.browserPrefix=
"khtml");window.vendorQuirk=d})();
(function(){var d={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};"undefined"!=typeof document.cancelFullScreen?d.supportsFullScreen=!0:"undefined"!=typeof document[vendorQuirk.browserPrefix+"CancelFullScreen"]&&(d.supportsFullScreen=!0,d.prefix=vendorQuirk.browserPrefix);d.supportsFullScreen&&(d.fullScreenEventName=d.prefix+"fullscreenchange",d.isFullScreen=function(){switch(this.prefix){case "":return document.fullScreen;case "webkit":return document.webkitIsFullScreen;
default:return document[this.prefix+"FullScreen"]}},d.requestFullScreen=function(n){return""===this.prefix?n.requestFullScreen():n[this.prefix+"RequestFullScreen"]()},d.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()});window.fullScreenApi=d})();function $id(d){return document.getElementById(d)}
var ssCtl=function(){function d(a){return 0>a?(a=-1*a%l,l-a):a%l}function n(a,b,c){a.eMsg=null;"ff"==vendorQuirk.vendorID&&(a.src="",a.completed=!1);"i"==imagelist[b].mTyp?(a.ism=!1,a.src=baseUrl+imagelist[b].fpath):(a.ism=!0,a.src=_imgP+"blank.png");a.slidnum=b;a.isSized=!1;trzn.preS(a,c)}function R(a){a.className=A;C.innerHTML=a.slidnum+1;p.innerHTML=imagelist[a.slidnum].title;a.eMsg&&(p.innerHTML+=a.eMsg);u&&!D&&(m=setTimeout(function(){k(1)},q))}function S(){trzn.pull(f[h],!0);var a=f.shift(),
b=d(r+t);trzn.getI(a,b,!1);r=(r+1)%l;f.push(a)}function T(){trzn.pull(f[h],!1);var a=f.pop(),b=d(r-1);trzn.getI(a,b,!0);r=b;f.unshift(a)}function k(a){_vElm.pause();_vElm.style.display="none";if(!e.repeat&&1==a&&r+h+1==l)return e.doMnu(0),!1;1<f.length&&(0<a?S():0>a&&T());var b=f[h];0!==a&&(p.innerHTML="");b.ism?(_vElm.src=baseUrl+imagelist[b.slidnum].fpath,C.innerHTML=b.slidnum+1):K(b,function(){R(b)});return!0}function L(){E.style.backgroundPosition="-54px 0";m&&(clearTimeout(m),m=null);u=!1;u=
!0;k(0)}function w(){E.style.backgroundPosition="-72px 0";m&&(clearTimeout(m),m=null);u=!1}function F(){var a,b=f.length;for(a=0;a<b;a++)v(f[a],null)}function v(a,b){if(a.complete){var c=window.innerHeight-p.offsetTop,g=window.innerWidth,x=a.naturalWidth,y=a.naturalHeight;if(0<x&&0<y){var G=y>c?c:y;c=Math.round(x*G/y);c>g&&(c=g,G=Math.round(y*c/x));a.height=G;a.width=c;a.isSized=!0}b&&b()}else setTimeout(function(){v(a,b)},100)}function K(a,b){if(a.isSized){H.style.display="none";var c=window.innerWidth,
g=a.width;a.style.left=g<c?Math.floor((c-g)/2)+"px":"0px";b&&b()}else H.style.display="block",setTimeout(function(){K(a,b)},100)}function I(a){var b;r=d(a-h);var c=t-h;for(b=0;b<c;b++){var g=d(b+a);n(f[b+h],g,!1)}for(b=0;b<h;b++)g=d(a-h+b),n(f[b],g,!0)}function M(a,b){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();switch(b){case 32:e.doMnu(3);break;case 37:e.doMnu(2);break;case 39:e.doMnu(4);break;case 27:e.doMnu(0);break;case 91:e.doMnu(1);break;case 93:e.doMnu(5);break;
case 9:case 13:e.doMnu(6)}}function U(a){var b=a.changedTouches[0],c=N-b.clientX;b=O-b.clientY;a.preventDefault();400<a.timeStamp-P||(Math.abs(c)>Math.abs(b)?150<Math.abs(c)&&(0<c?e.doMnu(4):e.doMnu(2)):150<Math.abs(b)&&e.doMnu(3))}function V(a){var b=a.changedTouches[0];N=b.clientX;O=b.clientY;P=a.timeStamp;a.preventDefault()}function W(){J&&clearTimeout(J);J=setTimeout(function(){D=!0;trzn.resz();k(0);D=!1},200)}function Q(){$id("seconds").innerHTML=Math.round(q/1E3)}function X(a){u&&setTimeout(function(){k(1)},
1E3)}function Y(){this.eMsg='<p class="errMsg">'+imgerror+this.src+"</p>";this.src="components/com_meedya/static/css/broken.png"}function Z(a){p.innerHTML+='<p class="errMsg">'+viderror+this.src+"</p>";u&&(m=setTimeout(function(){k(1)},q))}var e={autoPlay:!0,slideDur:7E3,trnType:"d",repeat:!1},l=0,t=5,h=2,r=0,f=[],B,A,q=7E3,m=null,u=!1,z=null,C=null,p=null,E=null,H,J=null,D=!1,N,O,P,aa={preS:function(a){v(a,null)},pull:function(a,b){a.className="islide img_hide"},getI:function(a,b,c){n(a,b,c)},resz:function(){F()}},
ba={preS:function(a){v(a,null)},pull:function(a,b){a.className="islide img_off"},getI:function(a,b,c){n(a,b,c)},resz:function(){F()}},ca={preS:function(a,b){b?v(a,function(){a.style.left=-(a.width+2)+"px"}):v(a,function(){a.style.left=window.innerWidth+2+"px"})},pull:function(a,b){a.style.left=b?-(a.width+2)+"px":window.innerWidth+2+"px"},getI:function(a,b,c){a.className="islide";n(a,b,c)},resz:function(){var a=t-h,b;F();for(b=0;b<a;b++){var c=f[b+h];c.style.left=window.innerWidth+2+"px"}for(b=0;b<
h;b++)c=f[b],c.style.left=-(c.width+2)+"px"}};e.doMnu=function(a){switch(a){case 0:popdwin?window.close():window.history.back();break;case 1:w();I(0);k(0);break;case 2:w();k(-1);break;case 3:m?w():L();break;case 4:w();k(1);break;case 5:w();I(l-1);k(0);break;case 6:a=$id("cb_full"),z.isFullScreen()?(z.cancelFullScreen(),a.style.backgroundPosition="-126px 0"):z.supportsFullScreen&&(z.requestFullScreen(document.body),a.style.backgroundPosition="-144px 0")}};e.sdur=function(a){a?q+=1E3:3E3<q&&(q-=1E3);
Q()};e.init=function(a){var b,c=$id("screen");trzn=aa;A="islide img_show";B="islide img_hide";switch(this.trnType){case "d":trzn=ba;A="islide img_on";B="islide img_off";break;case "s":trzn=ca,A="islide img_slin",B="islide"}l=imagelist.length;l<t&&(t=l);for(b=0;b<t;b++){var g=document.createElement("IMG");g.onerror=Y;g.style.left=window.innerWidth+2+"px";g.className=B;f.push(g);c.appendChild(g)}_vElm=document.createElement("VIDEO");_vElm.style.display="none";_vElm.onerror=Z;_vElm.className="medsld";
_vElm.id="medsld";_vElm.controls=!0;_vElm.onended=function(){X(this)};_vElm.playsinline=!0;_vElm.onloadedmetadata=function(){this.style.display="block";this.play()};c.appendChild(_vElm);h=Math.floor(t/2);c.addEventListener("touchstart",V,!1);c.addEventListener("touchmove",function(x){x.preventDefault()},!1);c.addEventListener("touchend",U,!1);z=a;C=$id("slidnum");p=$id("ptext");E=$id("cb_paus");H=$id("loading");q=this.slideDur;Q();I(0);this.autoPlay?L():k(0);window.onresize=W};document.addEventListener("keypress",
function(a){switch(a.charCode){case 32:case 91:case 93:case 13:M(a,a.charCode)}},!1);document.addEventListener("keydown",function(a){switch(a.keyCode){case 37:case 39:case 27:case 9:M(a,a.keyCode)}},!1);return e}();window.onload=function(){ssCtl.init(fullScreenApi)};