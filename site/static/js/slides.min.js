'use strict';(function(){let c={vendorID:"w3",browserPrefix:"",reqFull:"requestFullScreen",canFull:"cancelFullScreen"};"Microsoft Internet Explorer"==navigator.appName?(c.vendorID="ie",c.browserPrefix="ms"):-1<navigator.userAgent.indexOf("WebKit")?(c.vendorID="wk",c.browserPrefix="webkit"):-1<navigator.userAgent.indexOf("Gecko")?(c.vendorID="ff",c.browserPrefix="moz"):-1<navigator.userAgent.indexOf("Opera")?(c.vendorID="op",c.browserPrefix="o"):-1<navigator.userAgent.indexOf("KHTML")&&(c.vendorID=
"kd",c.browserPrefix="khtml");window.vendorQuirk=c})();
(function(){let c={supportsFullScreen:!1,isFullScreen:()=>!1,requestFullScreen:()=>{},cancelFullScreen:()=>{},fullScreenEventName:"",prefix:""};"undefined"!=typeof document.cancelFullScreen?c.supportsFullScreen=!0:"undefined"!=typeof document[vendorQuirk.browserPrefix+"CancelFullScreen"]&&(c.supportsFullScreen=!0,c.prefix=vendorQuirk.browserPrefix);c.supportsFullScreen&&(c.fullScreenEventName=c.prefix+"fullscreenchange",c.isFullScreen=()=>{switch(c.prefix){case "":return document.fullScreen;case "webkit":return document.webkitIsFullScreen;
default:return document[c.prefix+"FullScreen"]}},c.requestFullScreen=k=>""===c.prefix?k.requestFullScreen():k[c.prefix+"RequestFullScreen"](),c.cancelFullScreen=()=>""===c.prefix?document.cancelFullScreen():document[c.prefix+"CancelFullScreen"]());window.fullScreenApi=c})();
var ssCtl=function(){let c={autoPlay:!0,slideDur:7E3,trnType:"d",repeat:!1},k=0,v=5,g=2,w=0,f=[],h=null,G,H,n,r=window.innerWidth+2,t=7E3,p=null,x=!1,A=null,I=null,u=null,J=null,K,L=null,M=!1,Q,R,S;const q=a=>document.getElementById(a),y=(a,b,d,e=!1)=>{"string"===typeof a&&(a=q(a));a.addEventListener(b,d,e)},B=(a,b,d)=>{let e=a.firstChild;e.eMsg=null;"ff"==vendorQuirk.vendorID&&(e.src="",e.completed=!1);"i"==imagelist[b].mTyp?(a.ism=!1,e.src=baseUrl+imagelist[b].fpath):(a.ism=!0,e.src=_imgP+"1x1.png");
a.slidnum=e.slidnum=b;e.isSized=!1;n.preS(a,d)},z=(a,b)=>{let d=a.firstChild;if(d.complete){var e=window.innerHeight-u.offsetTop-2,C=window.innerWidth,l=d.naturalWidth,D=d.naturalHeight;if(0<l&&0<D){var N=D>e?e:D;e=Math.round(l*N/D);e>C&&(e=C,N=Math.round(D*e/l));d.height=N;d.width=e;d.isSized=!0}b&&b()}else setTimeout(()=>z(a,b),100)},O=()=>{let a,b=f.length;for(a=0;a<b;a++)z(f[a],null)};var W={preS:a=>z(a,null),pull:(a,b)=>{a.className="islide img_hide"},getI:(a,b,d)=>B(a,b,d),resz:()=>O()},X={preS:a=>
z(a,null),pull:(a,b)=>{a.className="islide img_off"},getI:(a,b,d)=>B(a,b,d),resz:()=>O()},Y={preS:(a,b)=>{b?z(a,()=>{a.style.left=-r+"px"}):z(a,()=>{a.style.left=r+"px"})},pull:(a,b)=>{a.style.left=b?-r+"px":r+"px"},getI:(a,b,d)=>{a.className="islide";B(a,b,d)},resz:()=>{var a=v-g,b;O();for(b=0;b<a;b++){var d=f[b+g];d.style.left=r+"px"}for(b=0;b<g;b++)d=f[b],d.style.left=-r+"px"}};const E=a=>0>a?(a=-1*a%k,k-a):a%k,Z=a=>{a.className=H;I.innerHTML=a.slidnum+1;u.innerHTML=imagelist[a.slidnum].title;
a.eMsg&&(u.innerHTML+=a.eMsg);x&&!M&&(p=setTimeout(()=>{m(1)},t))},aa=()=>{n.pull(f[g],!0);var a=f.shift(),b=E(w+v);n.getI(a,b,!1);w=(w+1)%k;f.push(a)},ba=()=>{n.pull(f[g],!1);var a=f.pop(),b=E(w-1);n.getI(a,b,!0);w=b;f.unshift(a)},T=(a,b)=>{a.firstChild.isSized?(K.style.display="none",a.style.left="0",b&&b()):(K.style.display="block",setTimeout(()=>T(a,b),100))},m=a=>{h.pause();h.style.display="none";if(!c.repeat&&1==a&&w+g+1==k)return c.doMnu(0),!1;1<f.length&&(0<a?aa():0>a&&ba());var b=f[g];0!==
a&&(u.innerHTML="");b.ism?(h.src=baseUrl+imagelist[b.slidnum].fpath,I.innerHTML=b.slidnum+1):T(b,()=>{Z(b)});return!0},U=()=>{J.style.backgroundPosition="-54px 0";p&&(clearTimeout(p),p=null);x=!1;x=!0;m(0)},F=()=>{J.style.backgroundPosition="-72px 0";p&&(clearTimeout(p),p=null);x=!1},P=a=>{var b;w=E(a-g);var d=v-g;for(b=0;b<d;b++){var e=E(b+a);B(f[b+g],e,!1)}for(b=0;b<g;b++)e=E(a-g+b),B(f[b],e,!0)};c.doMnu=a=>{switch(a){case 0:popdwin?window.close():window.history.back();break;case 1:F();P(0);m(0);
break;case 2:F();m(-1);break;case 3:p?F():U();break;case 4:F();m(1);break;case 5:F();P(k-1);m(0);break;case 6:a=q("cb_full"),A.isFullScreen()?(A.cancelFullScreen(),a.style.backgroundPosition="-126px 0"):A.supportsFullScreen&&(A.requestFullScreen(document.body),a.style.backgroundPosition="-144px 0")}};const V=(a,b)=>{a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();switch(b){case 32:c.doMnu(3);break;case 37:c.doMnu(2);break;case 39:c.doMnu(4);break;case 27:c.doMnu(0);break;
case 91:c.doMnu(1);break;case 93:c.doMnu(5);break;case 9:case 13:c.doMnu(6)}},ca=a=>{var b=a.changedTouches[0],d=Q-b.clientX;b=R-b.clientY;a.preventDefault();400<a.timeStamp-S||(Math.abs(d)>Math.abs(b)?150<Math.abs(d)&&(0<d?c.doMnu(4):c.doMnu(2)):150<Math.abs(b)&&c.doMnu(3))},da=a=>{var b=a.changedTouches[0];Q=b.clientX;R=b.clientY;S=a.timeStamp;a.preventDefault()},ea=()=>{L&&clearTimeout(L);L=setTimeout(()=>{r=window.innerWidth+2;M=!0;n.resz();m(0);M=!1},200)},fa=a=>{x&&setTimeout(()=>{m(1)},1E3)},
ha=a=>{a=a.target;a.eMsg='<p class="errMsg">'+imgerror+a.src+"</p>";a.src="components/com_meedya/static/css/broken.png"},ia=a=>{u.innerHTML+='<p class="errMsg">'+viderror+a.target.currentSrc+"</p>";x&&(p=setTimeout(()=>{m(1)},t))};c.sdur=a=>{a?t+=1E3:3E3<t&&(t-=1E3);q("seconds").innerHTML=Math.round(t/1E3)};c.init=a=>{var b,d=q("screen");n=W;H="islide img_show";G="islide img_hide";switch(c.trnType){case "d":n=X;H="islide img_on";G="islide img_off";break;case "s":n=Y,H="islide img_slin",G="islide"}k=
imagelist.length;k<v&&(v=k);for(b=0;b<v;b++){var e=document.createElement("DIV");e.style.left=r+"px";e.className=G;var C=document.createElement("IMG");C.onerror=ha;e.appendChild(C);f.push(e);d.appendChild(e)}h=document.createElement("VIDEO");h.style.display="none";h.onerror=ia;h.className="medsld";h.id="medsld";h.controls=!0;h.onended=fa;h.playsinline=!0;h.onloadedmetadata=l=>{l=l.target;l.style.display="block";l.play()};d.appendChild(h);g=Math.floor(v/2);y(d,"touchstart",da);y(d,"touchmove",l=>l.preventDefault());
y(d,"touchend",ca);A=a;I=q("slidnum");u=q("ptext");J=q("cb_paus");K=q("loading");t=c.slideDur;q("seconds").innerHTML=Math.round(t/1E3);P(0);c.autoPlay?U():m(0);y(window,"resize",ea)};y(document,"keypress",a=>{switch(a.charCode){case 32:case 91:case 93:case 13:V(a,a.charCode)}});y(document,"keydown",a=>{switch(a.keyCode){case 37:case 39:case 27:case 9:V(a,a.keyCode)}});return c}();window.onload=function(){ssCtl.init(fullScreenApi)};