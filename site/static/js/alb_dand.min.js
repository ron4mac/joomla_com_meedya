'use strict';Meedya.AArrange=function(m){let d=null,e=null,f=!1,g=!1,h=null,k,p=(a,b,c)=>{a={task:"ManRaw.adjustAlbPaid",aid:a,paid:b};a[Joomla.getOptions("csrf.token","")]=1;m.postAction(null,a,n=>c(n))},l=a=>{if(a.target==d)return!1;a=a.dataTransfer.types;for(let b=0;b<a.length;++b)if("meeid"===a[b])return!0;return!1},q=a=>{d=a.target;setTimeout(()=>{d.style.opacity="0.2"},0);a.dataTransfer.effectAllowed="copyMove";a.dataTransfer.setData("meeid",d.dataset.id);a.dataTransfer.dropEffect="move"},r=
a=>{a.dataTransfer.dropEffect="move";if(l(a))return Meedya._pd(a),!1},t=a=>{a.dataTransfer.dropEffect="move";if(l(a))return Meedya._pd(a),a.target.classList.add("over"),!1},u=a=>{Meedya._pd(a);a.target.classList.remove("over")},v=a=>{Meedya._pd(a);d!=a.target&&p(d.dataset.aid,a.target.dataset.aid,b=>{b?My_bb.alert(Meedya._T("COM_MEEDYA_MOVE_FAIL")):a.target.append(d)});return!1},w=a=>{d.style.opacity=null;[].forEach.call(k,b=>b.classList.remove("over"));a.target.classList.remove("moving");f=g=!1;
clearInterval(h)},x=a=>{a.clientY&&(50>a.clientY?f||(f=!0,h=setInterval(()=>window.scrollBy(0,-20),20)):f&&(f=!1,clearInterval(h)),a.clientY>window.innerHeight-50?g||(g=!0,h=setInterval(()=>window.scrollBy(0,20),20)):g&&(g=!1,clearInterval(h)))},y=a=>{if(1==a.targetTouches.length){let b=a.targetTouches[0];a.target.style.left=b.pageX+"px";a.target.style.top=b.pageY+"px"}};return{init:(a,b)=>{k=document.querySelectorAll("#"+a+" ."+b);[].forEach.call(k,c=>{Meedya._ae(c,"drag",x);Meedya._ae(c,"dragstart",
q,!0);Meedya._ae(c,"dragenter",t);Meedya._ae(c,"dragover",r);Meedya._ae(c,"dragleave",u);Meedya._ae(c,"drop",v);Meedya._ae(c,"dragend",w);Meedya._ae(c,"touchmove",y)})},selalb:()=>e?e.dataset.aid:0,iSelect:(a,b=this)=>{Meedya._pd(a);e&&e.classList.remove("slctd");b==e?e=null:(e=b,e.classList.add("slctd"),Meedya.clone_a.classList.remove("disabled"))}}}(Meedya);