var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(c,e){return Object.prototype.hasOwnProperty.call(c,e)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,f){if(c==Array.prototype||c==Object.prototype)return c;c[e]=f.value;return c};$jscomp.getGlobal=function(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<c.length;++e){var f=c[e];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(c,e){var f=$jscomp.propertyToPolyfillSymbol[e];if(null==f)return c[e];f=c[f];return void 0!==f?f:c[e]};
$jscomp.polyfill=function(c,e,f,h){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(c,e,f,h):$jscomp.polyfillUnisolated(c,e,f,h))};$jscomp.polyfillUnisolated=function(c,e,f,h){f=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var k=c[h];if(!(k in f))return;f=f[k]}c=c[c.length-1];h=f[c];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:e})};
$jscomp.polyfillIsolated=function(c,e,f,h){var k=c.split(".");c=1===k.length;h=k[0];h=!c&&h in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var b=0;b<k.length-1;b++){var a=k[b];if(!(a in h))return;h=h[a]}k=k[k.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?h[k]:null;e=e(f);null!=e&&(c?$jscomp.defineProperty($jscomp.polyfills,k,{configurable:!0,writable:!0,value:e}):e!==f&&(void 0===$jscomp.propertyToPolyfillSymbol[k]&&(f=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[k]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(k):$jscomp.POLYFILL_PREFIX+f+"$"+k),$jscomp.defineProperty(h,$jscomp.propertyToPolyfillSymbol[k],{configurable:!0,writable:!0,value:e})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(c,e){for(var f=1;f<arguments.length;f++){var h=arguments[f];if(h)for(var k in h)$jscomp.owns(h,k)&&(c[k]=h[k])}return c};$jscomp.polyfill("Object.assign",function(c){return c||$jscomp.assign},"es6","es3");
"undefined"===typeof Meedya&&(Meedya={});function _id(c){return document.getElementById(c)}function _pd(c,e){e=void 0===e?!0:e;c.preventDefault&&c.preventDefault();e&&c.stopPropagation&&c.stopPropagation()}function _ae(c,e,f,h){c.addEventListener(e,f,void 0===h?!1:h)}
(function(c){function e(b){b.preventDefault();if(!(0>b.dataTransfer.types.indexOf("imgsrc")))return _pd(b),!1}function f(b){_pd(b);console.log("D");var a=b.dataTransfer.getData("imgsrc");a&&(this.getElementsByTagName("IMG")[0].src=a,_id("albthmid").value=b.dataTransfer.getData("meeid"));this.style.opacity="1.0"}function h(b,a){a=void 0===a?!1:a;if(document.querySelectorAll(b).length)return!0;a&&bootbox.alert(Joomla.Text._("COM_MEEDYA_SELECT_SOME"));return!1}Meedya.confirm=function(b,a,m,n){c("#"+
b).modal("show")};Meedya.setDlgParAlb=function(){_id("h5u_palbum")&&(_id("h5u_palbum").value=Meedya.AArrange.selalb())};Meedya.setAlbumDanD=function(){var b=_id("albthm");_ae(b,"dragover",e);_ae(b,"drop",f);_ae(b,"dragenter",function(a){a.preventDefault();this.style.opacity="0.5"});_ae(b,"dragleave",function(){this.style.opacity="1.0"});b=_id("albForm");_ae(b,"dragstart",function(a){a.dataTransfer.setData("albthm","X")});_ae(b,"dragover",function(a){0<a.dataTransfer.types.indexOf("albthm")&&(_pd(a),
a.dataTransfer.dropEffect="move")});_ae(b,"dragenter",function(a){0<a.dataTransfer.types.indexOf("albthm")&&(_pd(a),a.dataTransfer.dropEffect="move")});_ae(b,"drop",function(a){_pd(a);_id("albthmimg").src="components/com_meedya/static/img/img.png";_id("albthmid").value=0})};Meedya.deleteSelected=function(b){_pd(b);h("[name='slctimg[]']:checked",!0)&&bootbox.confirm({message:Joomla.Text._("COM_MEEDYA_PERM_DELETE"),buttons:{confirm:{label:Joomla.Text._("JACTION_DELETE"),className:"btn-danger"},cancel:{label:Joomla.Text._("JCANCEL")}},
callback:function(a){a&&(document.adminForm.task.value="manage.deleteItems",document.adminForm.submit())}})};Meedya.removeSelected=function(b){_pd(b);h("[name='slctimg[]']:checked",!0)&&bootbox.confirm({message:Joomla.Text._("COM_MEEDYA_REMOVE"),buttons:{confirm:{label:Joomla.Text._("COM_MEEDYA_VRB_REMOVE"),className:"btn-danger"},cancel:{label:Joomla.Text._("JCANCEL")}},callback:function(a){if(a){a=document.querySelectorAll("[name='slctimg[]']:checked");for(var m=a[0].parentNode.parentNode,n=0;n<
a.length;n++)m.removeChild(a[n].parentNode)}}})};Meedya.selAllImg=function(b,a){_pd(b);var m=a?"checked":"",n=document.adminForm.elements["slctimg[]"];n.length||(n=[n]);for(var q=0;q<n.length;q++)n[q].checked=m};Meedya.editSelected=function(b){_pd(b);h("input[name='slctimg[]']:checked",!0)&&(document.adminForm.task.value="manage.imgsEdit",document.adminForm.submit())};Meedya.addSelected=function(b){_pd(b);h("input[name='slctimg[]']:checked",!0)&&c("#add2albdlg").modal("show")};Meedya.saveAlbum=function(){document.albForm.thmord.value=
Meedya.Arrange.iord();document.albForm.submit()};Meedya.watchAlb=function(b){var a=_id("creab");0<b.value?(_id("creanualb").style.display="none",a.disabled=!1):(a.disabled=!0,-1==b.value?_id("creanualb").style.display="block":_id("creanualb").style.display="none")};Meedya.watchAlbNam=function(b){var a=_id("creab");b.value.trim()?a.disabled=!1:a.disabled=!0};Meedya.addItems2Album=function(b){b.disabled=!0;document.adminForm.albumid.value=_id("h5u_album").value;document.adminForm.nualbnam.value=_id("nualbnam").value;
document.adminForm.nualbpar.value=_id("h5u_palbum").value;document.adminForm.nualbdesc.value=_id("albdesc").value;document.adminForm.task.value="manage.addItemsToAlbum";document.adminForm.submit()};Meedya.aj_addItems2Album=function(b){b.disabled=!0;var a=_id("nualbnam"),m=_id("h5u_palbum"),n=_id("albdesc");a={task:"manage.addItemsToAlbum",albnam:a.value.trim(),paralb:m?m.value:0,albdesc:n.value};a[Meedya.formTokn]=1;c.post(Meedya.rawURL,a,function(q,r,p){"success"==r?q?alert(q):window.location.reload(!0):
alert(p.statusText);b.disabled=!1})};Meedya.ae_createAlbum=function(b){b.disabled=!0;var a=_id("nualbnam"),m=_id("h5u_palbum"),n=_id("albdesc");a={task:"manage.newAlbum",albnam:a.value.trim(),paralb:m?m.value:0,albdesc:n.value};a[Meedya.formTokn]=1;c.post(Meedya.rawURL,a,function(q,r,p){"success"==r?(jQuery("#newalbdlg").modal("hide"),q?alert(q):window.location.reload(!0)):alert(p.statusText);b.disabled=!1})};var k=null;Meedya.moveItem=function(b){b=b.parentElement;if(k){k.classList.remove("moving");
if(b!=k){var a=_id("area"),m=a.removeChild(k);a.insertBefore(m,b)}k=null}else k=b,b.classList.add("moving")}})(jQuery);
Meedya.Arrange=function(c){function e(d){d=d.dataTransfer.types;for(var l=0;l<d.length;++l)if("meeid"===d[l])return!0;return!1}function f(d){this.style.opacity="0.4";r=this;d.dataTransfer.effectAllowed="copyMove";d.dataTransfer.setData("meeid",this.getAttribute("data-id"));d.dataTransfer.setData("imgsrc",this.getElementsByTagName("IMG")[0].src)}function h(d){if(e(d))return _pd(d),d.dataTransfer.dropEffect="move",!1}function k(d){console.log("A",Object.assign({},d.dataTransfer));if(e(d))return _pd(d),
this.classList.add("over"),!1}function b(d){this.classList.remove("over")}function a(d){console.log("Z",d.dataTransfer);_pd(d);if(r!=this){d=_id(u);var l=d.removeChild(r);d.insertBefore(l,this)}return!1}function m(d){this.style.opacity=null;[].forEach.call(v,function(l){l.classList.remove("over")});p=!0}function n(d){p=!0;50>d.clientY&&(p=!1,g(-1));d.clientY>c(window).height()-50&&(p=!1,g(1))}function q(d){1==d.targetTouches.length&&(d=d.targetTouches[0],this.style.left=d.pageX+"px",this.style.top=
d.pageY+"px")}var r=null,p=!0,u="",w="",v,g=function(d){var l=c(window).scrollTop();c(window).scrollTop(l+d);p||setTimeout(function(){g(d)},60)};return{init:function(d,l){u=d;w=l;v=document.querySelectorAll("#"+d+" ."+l);[].forEach.call(v,function(t){t.setAttribute("draggable","true");_ae(t,"drag",n);_ae(t,"dragstart",f);_ae(t,"dragenter",k);_ae(t,"dragover",h);_ae(t,"dragleave",b);_ae(t,"drop",a);_ae(t,"dragend",m);_ae(t,"touchmove",q)})},iord:function(){v=document.querySelectorAll("#"+u+" ."+w);
var d=[];[].forEach.call(v,function(l){(l=l.getAttribute("data-id"))&&d.push(l)});return d.join("|")}}}(jQuery);
Meedya.AArrange=function(c){function e(g,d,l){g={task:"manage.adjustAlbPaid",aid:g,paid:d};g[Joomla.getOptions("csrf.token","")]=1;c.post(Meedya.rawURL,g,function(t){l(t)})}function f(g){g.target.style.opacity="0.4";r=this;g.dataTransfer.effectAllowed="copyMove";g.dataTransfer.setData("meeid",this.getAttribute("data-id"))}function h(g){a:{var d=g.dataTransfer.types;for(var l=0;l<d.length;++l)if("meeid"===d[l]){d=!0;break a}d=!1}if(d)return _pd(g),g.dataTransfer.dropEffect="move",!1}function k(g){_pd(g);
this.classList.add("over");return!1}function b(g){_pd(g);this.classList.remove("over")}function a(g){_pd(g);r!=this&&(sa=r.getAttribute("data-aid"),da=g.target.getAttribute("data-aid"),e(sa,da,function(d){d?bootbox.alert(Joomla.Text._("COM_MEEDYA_MOVE_FAIL")):g.target.append(r)}));return!1}function m(g){this.style.opacity="1.0";[].forEach.call(w,function(d){d.classList.remove("over")});u=!0}function n(g){u=!0;50>g.clientY&&(u=!1,v(-1));g.clientY>c(window).height()-50&&(u=!1,v(1))}function q(g){1==
g.targetTouches.length&&(g=g.targetTouches[0],this.style.left=g.pageX+"px",this.style.top=g.pageY+"px")}var r=null,p=null,u=!0,w,v=function(g){var d=c(window).scrollTop();c(window).scrollTop(d+g);u||setTimeout(function(){v(g)},500)};return{init:function(g,d){w=document.querySelectorAll("#"+g+" ."+d);[].forEach.call(w,function(l){l.setAttribute("draggable","true");_ae(l,"drag",n);_ae(l,"dragstart",f,!0);_ae(l,"dragenter",k);_ae(l,"dragover",h);_ae(l,"dragleave",b);_ae(l,"drop",a);_ae(l,"dragend",m);
_ae(l,"touchmove",q)})},selalb:function(){return p?p.getAttribute("data-aid"):0},iSelect:function(g,d){d=void 0===d?this:d;_pd(g);p&&p.classList.remove("slctd");d==p?p=null:(p=d,p.classList.add("slctd"))}}}(jQuery);
(function(c,e){function f(m){switch(m.charCode){case 32:case 13:case 27:k(m)}}function h(m){switch(m.keyCode){case 32:case 13:case 27:k(m)}}function k(m){_pd(m);document.body.removeChild(b)}var b,a;e.iZoomOpen=function(m){a=document.createElement("div");c.post(Meedya.rawURL,{task:"manage.getZoomItem",iid:m}).done(function(n){return a.innerHTML=n});a.className="zoom-area";a.tabIndex="-1";b=document.createElement("div");b.className="zoom-back";b.appendChild(a);document.body.appendChild(b);_ae(a,"keypress",
f);_ae(a,"keydown",h);a.focus();_ae(b,"click",k)};e.iZoomClose=k})(jQuery,window);